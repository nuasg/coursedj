<!-- public/views/index.html -->
<!DOCTYPE html>

<!-- Angular Module -->
<html ng-app="CourseDJ" class="no-js">
<head>
	<!-- Meta -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>CourseDJ | ASG Services</title>

	<!-- CSS -->
	<link rel="stylesheet" href="/resources/bootstrap.min.css">
	<link rel="stylesheet" href="/resources/font-awesome.min.css">
	<link rel="stylesheet" href="/css/main.css">

	<!-- Fonts and Icons -->
	<link rel="shortcut icon" href="/img/favicon.ico">
  <link href='http://fonts.googleapis.com/css?family=Roboto|Orbitron:500' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Roboto:300' rel='stylesheet' type='text/css'>

	<!-- Imported Resources -->
	<script src="/resources/angular.min.js"></script>
	<script src="/resources/jquery-2.1.1.min.js"></script>
	<script src="/resources/bootstrap.min.js"></script>
	<script src="/resources/calendar-codebase/dhtmlxscheduler.js" type="text/javascript"></script>
	<link rel="stylesheet" href="/resources/calendar-codebase/dhtmlxscheduler.css" type="text/css">

	<!-- Angular Custom Components -->
	<script src="/js/coreModule.js"></script>
	<script src="/js/directives/calendarDirective.js"></script>
	<script src="/js/services/mainService.js"></script>
	<script src="/js/controllers/mainCtrl.js"></script>

	<!-- Tracking info -->
	<!-- NEW TRACKING CODE -->
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-63900118-2', 'auto');
	  ga('send', 'pageview');

	</script>

	<!-- OLD TRACKING CODE -->
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-45855343-6', 'auto');
	  ga('send', 'pageview');

	</script>
</head>

<!-- load user data into angular controller -->
<body ng-controller="mainController" ng-keypress="handleEvent($event)">
	<div class="row header-row" ng-show="loaded">
		
		<div class="header-left col-left col-sm-4 col-md-3 col-lg-2">
			<span class="title">CourseDJ</span>
		</div>
		
		<div class="header-right col-right col-sm-8 col-md-9 col-lg-10">
			<div class="alert alert-info" id="info">
				<b>Welcome Class of 2019!</b> If you liked CourseDJ, check out our other sites: </br>
				<a href="http://services.asg.northwestern.edu/" target="_blank">ASG Services Website</a> | 
				<a href="http://studyabroad.asg.northwestern.edu/" target="_blank">Unofficial Study Abroad Guide</a> | 
				<b>CourseDJ</b> | 
				<a href="https://asg.northwestern.edu/redesignu/" target="_blank">RedesigNU</a>
			</div>
		</div>
		
	</div>

	<div class="row body-row" id="body" ng-show="loaded">

		<!-- Class Selection Column -->
		<div class="body-left col-left col-sm-4 col-md-3 col-lg-2" id="form">
			<div class="class-add class-pick">
				<div class="form-title">
					Pick Your Classes
				</div>

				<div>Term</div>
				<select class="" ng-model="term">
					<option value="4600">2015 Fall</option>
<!-- 				<option value="4590">2015 Summer</option>
					<option value="4580">2015 Spring</option> -->
				</select>
				<div>Subject</div>
				<div class="subject">
					<select ng-model="selectedSubject" ng-options="subject.symbol + ' - ' + subject.name for subject in subjects | orderBy: 'symbol'" class="selected-sub"></select>
				</div>

				<div ng-show="selectedSubject"><div>Course</div>
					<span ng-show="!coursesLoaded" class="fa fa-spinner fa-spin"></span>
					<select ng-change="setSelectedCourse()" ng-hide="!coursesLoaded || isEmptyArray(courses)" ng-model="selectedCourse"
									ng-options="course.catalog_num + ': ' + courseName(course) + ' (' + course.meeting_days + ' ' + reduceHour(course.start_time) + ' - ' + reduceHour(course.end_time) + ', ' + lastName(course.instructor.name) + ')' for course in courses | orderBy: 'catalog_num'">
					</select>
                    <select ng-show="hasLab" ng-change="setSelectedComponent()" ng-hide="!hasLab" ng-model="selectedComponent" ng-options="component.component + ' (' + component.meeting_days + ' ' + reduceHour(component.start_time) + ' - ' + reduceHour(component.end_time) +')' for component in courseComponents(selectedCourse)"></select>

					<div ng-show="coursesLoaded && isEmptyArray(courses)">There are no available classes in that subject. Try choosing another subject!</div>
				</div>

				<!-- <div class="selected-course green" ng-show="selectedCourse">{{selectedCourse.subject}} {{selectedCourse.catalog_num}}: {{selectedCourse.title}}</div>
				<button class="add" ng-show="selectedCourse" ng-click="">Add!</button> -->

			</div>

			<div class="class-add">
				<div class="form-title">
					Classes Added
				</div>
				<div ng-show="setList">
					<div class="course" ng-repeat="course in setList | orderBy: 'subject'">
						<span class="fa fa-close red" ng-click="removeFromSetList(course)"></span>
						<strong>{{course.subject}} {{course.catalog_num}}:</strong> {{courseName(course)}} ({{course.meeting_days}} {{reduceHour(course.start_time)}} - {{reduceHour(course.end_time)}}, {{lastName(course.instructor.name)}})
						<form name="priority">
							<input type="radio" ng-model="course.priority" name="priority" ng-value="1" checked="checked" />Optional
							<input type="radio" ng-model="course.priority" name="priority" ng-value="2" />Preferred
							<input type="radio" ng-model="course.priority" name="priority" ng-value="10" />Mandatory
						</form>
					</div>
				</div>
				<div class="class-count">
					<form name="count" ng-show="setList[0]">
						<div>Chosen Classes:</div>
						<input type="radio" ng-model="courseCount" name="count" ng-value="3" checked="checked" />3
						<input type="radio" ng-model="courseCount" name="count" ng-value="4" />4
						<input type="radio" ng-model="courseCount" name="count" ng-value="5" />5
					</form>
				</div>

				<button ng-show="setList[0]" ng-click="remix()">Remix!</button>

			</div>
		</div> <!-- Class Selection Column -->

		<!-- Calendar Column -->
		<div class="body-right col-right col-sm-8 col-md-9 col-lg-10" id="cal">
			<div class="panel panel-default panel-full" id="cal-container">
				<div class="panel-body panel-full">
					<div dhx-scheduler data="events">
		        <div class="dhx_cal_date"></div>
			    </div>
				</div>
			</div>

			<div class="footer">
				<a href="mailto:asg-services@u.northwestern.edu?Subject=CourseDJ" target="_blank">Questions, concerns, or compliments? <br> Send us an email!</a>
				<p>&copy; 2014 ASG Services</p>
			</div>
		</div>
	</div>
</body>
</html>
